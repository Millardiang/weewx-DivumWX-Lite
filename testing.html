<!doctype html>
<html lang="us">
<!-- The page take the information inputted by the client and sends them a file called services.txt which is used in the -->
<!-- installation of the Weather34 skin template on a WeeWX Personal Weather Station system. -->
<!-- Original code written by Ian Millard -->
<!-- Rewritten on Feburary 2021 by Steven Sheeley, reusing the file saving routine -->
<!-- Whilst it was attempted to maintain the look and feel of the original, all -->
<!-- html, css and javascript used in the new page is by Steven Sheeley -->

<head>
    <meta charset="utf-8">
    <title>Weather34 services.txt generator form</title>
    <meta name="description" content="This form generates the services.txt file that is needed to install the Weather34 skin and modify the weewx conf file." />
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
    <style>
        .container {  display: grid;
        grid-template-columns: repeat(4, 25%);
        grid-template-rows: 400px 300px repeat(3, 1fr);
        gap: 5px 5px;
        margin: auto;
        width: 75%;
        border: 2px solid #000000;
        background-color: #dbdada94;
        padding: 4px;
        border-radius: 12px;
        box-shadow: 5px 5px 5px #4b8f29;
        grid-auto-flow: row;
        grid-template-areas:
            "Banner Banner Banner Banner"
            "Section-1 Section-1 Map Map"
            "Section-2 Section-2 Section-2 Section-2"
            "Services Services Services Services"
            "Footer Footer Footer Footer";
        }
        .Banner { grid-area: Banner;
        padding: 6px;
        border-radius: 10px;
        border: 2px solid #000000;
        background-color: #cceff8;
    }
        .Section-1 { grid-area: Section-1; }
        .Map { grid-area: Map; }
        .Section-2 { grid-area: Section-2; }
        .Services { grid-area: Services; }
        .Footer { grid-area: Footer; }
        h3 {
            color: #000000;
            font-size: 150%;
        }
        input[type=text] {
            width: 98%;
            padding: 6px;
            border: 2px solid #000;
        }
        select {
            font: 12px Arial;
            width: 98%;
            padding: 6px;
            border: 2px solid #000;
        }
        label[for=text] {
            width: 95%;
            padding: 6px;
        }
        .radiogroup {
            width: auto;
        }
        .myButton {
            box-shadow: 0px 10px 14px -7px #3e7327;
            background: linear-gradient(to bottom, #77b55a 5%, #72b352 100%);
            background-color: #77b55a;
            border-radius: 4px;
            border: 1px solid #4b8f29;
            display: inline-block;
            cursor: pointer;
            color: #ffffff;
            font-family: Arial;
            font-size: 14px;
            font-weight: bold;
            padding: 10px 4px;
            text-decoration: none;
            text-shadow: 0px 1px 11px #5b8a3c;
        }
    </style>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
</head>
<body>
    <!-- Begin Container -->
    <div class="container">
        <div class="Banner">Banner</div>
        <div class="Section-1">Section 1</div>
        <div class="Map" id="MapID">Map</div>
        <div class="Section-2">Section 2</div>
        <div class="Services">Services</div>
        <div class="Footer">Footer</div>
      </div>
    <!-- End Container-->
    <script>
        var mymap = L.map('mapid').fitWorld();
        var txtLat = document.getElementById('txtLat');
        var txtLon = document.getElementById('txtLon');
        L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
            maxZoom: 22,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' + 'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1
        }).addTo(mymap);
        function onLocationFound(e) {
            var radius = e.accuracy / 2;
        }
        function onLocationError(e) {
            alert(e.message);
        }
        mymap.on('locationfound', onLocationFound);
        mymap.on('locationerror', onLocationError);
        mymap.locate({
            setView: true
        });
        mymap.on('click', function(e) {
            txtLat.value = +e.latlng.lat.toFixed(6);
            txtLon.value = +e.latlng.lng.toFixed(6);
        });
    </script>
</body>
</html>
